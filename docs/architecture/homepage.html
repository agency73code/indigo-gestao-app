<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nova Sess√£o ‚Ä¢ Mobile</title>
  <style>
    :root{
      --bg:#f5f6f8;
      --card:#ffffff;
      --beige:#e9e6e0;
      --text:#0f172a;
      --muted:#64748b;
      --border:#e5e7eb;

      --nav:#ffffffee;
      --primary:#1f3b5b;         /* azul escuro */
      --primary-2:#254a73;

      --chip-blue-bg:#d9e9ff;
      --chip-blue-fg:#1f4a7a;

      --ok-bg:#ecfdf5;
      --ok-fg:#047857;

      --warn-bg:#fff7ed;
      --warn-fg:#c2410c;

      --err-bg:#fee2e2;
      --err-fg:#b91c1c;

      --shadow: 0 12px 26px rgba(15,23,42,.10);
      --radius:22px;

      --btn:#0b2a46;
      --btnText:#fff;

      --hit:56px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      background:#2b2b2b;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      display:flex;
      justify-content:center;
      padding:24px;
    }

    /* phone frame */
    .phone{
      width:390px;
      height:844px;
      background:var(--bg);
      border-radius:34px;
      overflow:hidden;
      box-shadow: 0 30px 70px rgba(0,0,0,.35);
      position:relative;
    }

    .statusbar{
      height:44px;
      padding:12px 18px 0 18px;
      color:#fff;
      background:var(--primary);
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      font-weight:600;
      letter-spacing:.3px;
    }
    .statusbar .right{
      display:flex; gap:8px; align-items:center; opacity:.95;
      font-size:12px;
    }
    .dot{ width:6px; height:6px; border-radius:999px; background:#fff; opacity:.9; display:inline-block; }

    /* header */
    .header{
      background:var(--primary);
      padding:14px 18px 18px 18px;
      color:#fff;
      border-bottom-left-radius:34px;
      border-bottom-right-radius:34px;
      position:relative;
      z-index:3;
    }
    .header-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }
    .left{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
    }
    .back{
      width:42px; height:42px; border-radius:999px;
      background: rgba(255,255,255,.14);
      display:grid; place-items:center;
      flex:0 0 auto;
    }
    .title-wrap{ min-width:0; }
    .title{
      font-size:18px;
      font-weight:900;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:210px;
    }
    .subtitle{
      font-size:12px;
      opacity:.86;
      margin-top:2px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .chip{
      font-size:11px;
      font-weight:900;
      padding:6px 10px;
      border-radius:999px;
      display:inline-flex;
      align-items:center;
      white-space:nowrap;
      border: 1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.10);
      color:#fff;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background:#fff;
      color:#0f172a;
      font-size:12px;
      font-weight:900;
      box-shadow: 0 10px 18px rgba(0,0,0,.18);
      white-space:nowrap;
    }
    .pill .p-dot{ width:10px;height:10px;border-radius:999px;background:#22c55e; display:inline-block; }
    .pill.offline .p-dot{ background:#f59e0b; }
    .pill.error .p-dot{ background:#ef4444; }

    /* stepper */
    .stepper{
      margin-top:10px;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 999px;
      padding: 8px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .steps{
      display:flex; gap:8px; align-items:center;
      min-width:0;
    }
    .step-dot{
      width:24px;height:24px;border-radius:999px;
      display:grid;place-items:center;
      font-size:12px;
      font-weight:900;
      background: rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.22);
      color:#fff;
    }
    .step-dot.active{
      background:#fff;
      color:#0f172a;
      border-color:#fff;
    }
    .step-label{
      font-size:12px;
      font-weight:900;
      opacity:.9;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:190px;
    }

    .step-actions{
      display:flex; gap:8px; align-items:center;
    }
    .mini-btn{
      width:36px;height:36px;border-radius:999px;
      background:#fff;
      border:none;
      display:grid;place-items:center;
      box-shadow: 0 10px 18px rgba(0,0,0,.18);
      cursor:default;
      user-select:none;
      opacity:.95;
    }
    .mini-btn:active{ transform: translateY(1px); }

    /* content */
    .content{
      padding:16px 16px 110px 16px;
      height: calc(844px - 44px - 168px);
      overflow:auto;
      position:relative;
      z-index:1;
    }

    .panel{
      background: var(--card);
      border: 1px solid rgba(226,232,240,.9);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
      margin-bottom:12px;
    }
    .panel-title{
      font-weight:900;
      margin-bottom:10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .muted{ color:var(--muted); font-size:13px; line-height:1.35; }

    .row{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      margin-top:10px;
      flex-wrap:wrap;
    }
    .kv{
      font-size:12px;
      color:#334155;
      font-weight:800;
    }
    .kv b{ color:#0f172a; }

    /* stimulus list */
    .stim-list{ display:flex; flex-direction:column; gap:10px; }

    .stim-card{
      background: var(--beige);
      border-radius: 20px;
      padding: 12px;
      border: 1px solid rgba(226,232,240,.6);
      box-shadow: var(--shadow);
    }
    .stim-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .stim-name{
      font-weight:900;
      font-size:14px;
      line-height:1.15;
      margin-bottom:6px;
      max-width:240px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .stim-sub{
      font-size:12px;
      color:#475569;
      font-weight:800;
      display:flex; gap:8px; flex-wrap:wrap;
      align-items:center;
    }
    .badge{
      font-size:11px;
      font-weight:900;
      padding:6px 10px;
      border-radius:999px;
      display:inline-flex;
      align-items:center;
      white-space:nowrap;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.55);
      color:#0f172a;
    }
    .badge.ok{ background:var(--ok-bg); color:var(--ok-fg); border-color: rgba(16,185,129,.15); }
    .badge.warn{ background:var(--warn-bg); color:var(--warn-fg); border-color: rgba(249,115,22,.15); }

    .btn{
      border:none;
      border-radius: 999px;
      padding: 12px 14px;
      font-weight:900;
      font-size:13px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      cursor:default;
      user-select:none;
      height: var(--hit);
      min-width: 140px;
    }
    .btn.primary{
      background: var(--btn);
      color:var(--btnText);
      box-shadow: 0 16px 28px rgba(31,59,91,.25);
    }
    .btn.ghost{
      background: rgba(255,255,255,.70);
      color:#0f172a;
      border: 1px solid rgba(15,23,42,.10);
    }
    .btn.disabled{
      opacity:.55;
      filter: grayscale(.2);
    }
    .btn .circle{
      width:30px;height:30px;border-radius:999px;
      display:grid;place-items:center;
      background: rgba(255,255,255,.16);
    }
    .btn.ghost .circle{ background: rgba(15,23,42,.06); }

    /* active stimulus overlay mode */
    .overlay{
      position:absolute;
      inset:44px 0 84px 0; /* below statusbar and above nav */
      background: rgba(15,23,42,.35);
      backdrop-filter: blur(6px);
      display:none;
      z-index:10;
      padding:16px;
    }
    .overlay.on{ display:block; }

    .focus{
      background: var(--card);
      border-radius: 26px;
      box-shadow: 0 30px 70px rgba(0,0,0,.35);
      border: 1px solid rgba(226,232,240,.9);
      padding: 14px;
      height: 100%;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .focus-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    .focus-title{
      font-weight:1000;
      font-size:16px;
      line-height:1.15;
      margin-bottom:4px;
    }
    .focus-sub{
      font-size:12px;
      color:var(--muted);
      font-weight:800;
    }
    .timer{
      font-size:12px;
      font-weight:1000;
      background: rgba(15,23,42,.06);
      border: 1px solid rgba(15,23,42,.08);
      padding:8px 10px;
      border-radius: 999px;
      white-space:nowrap;
    }

    .counters{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
      margin-top:4px;
    }
    .counter{
      border-radius: 18px;
      border: 1px solid rgba(15,23,42,.10);
      background: #fff;
      padding: 12px;
      box-shadow: var(--shadow);
      min-height: 92px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .counter .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    .counter .label{
      font-size:12px;
      font-weight:1000;
    }
    .counter .value{
      font-size:28px;
      font-weight:1100;
      letter-spacing:.5px;
      margin-top:6px;
    }
    .counter .hint{
      font-size:11px;
      color:var(--muted);
      font-weight:800;
      margin-top:8px;
    }
    .counter.err .label{ color: var(--err-fg); }
    .counter.help .label{ color: var(--warn-fg); }
    .counter.ok .label{ color: var(--ok-fg); }

    .focus-actions{
      display:flex;
      gap:10px;
      margin-top:auto;
    }
    .focus-actions .btn{ flex:1 1 auto; min-width:0; }
    .btn.pause{
      background: rgba(15,23,42,.06);
      color:#0f172a;
      border: 1px solid rgba(15,23,42,.12);
      box-shadow:none;
    }
    .btn.finish{
      background: var(--btn);
      color:#fff;
    }

    .collapse{
      margin-top:8px;
      border-radius:18px;
      background: rgba(15,23,42,.03);
      border:1px solid rgba(15,23,42,.06);
      padding:12px;
    }
    .collapse-title{
      font-weight:1000;
      font-size:13px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      cursor:default;
      user-select:none;
    }
    .collapse-body{
      margin-top:10px;
      color:#475569;
      font-size:13px;
      line-height:1.35;
    }

    /* textarea */
    textarea{
      width:100%;
      min-height:140px;
      resize:none;
      border-radius:16px;
      border: 1px solid rgba(15,23,42,.12);
      padding: 12px;
      font-size:14px;
      line-height:1.35;
      outline:none;
      background:#fff;
    }
    .char{
      margin-top:8px;
      font-size:12px;
      color:var(--muted);
      text-align:right;
      font-weight:800;
    }

    /* files */
    .drop{
      margin-top:10px;
      border-radius:18px;
      border: 2px dashed rgba(15,23,42,.14);
      background: rgba(255,255,255,.65);
      padding: 16px;
      text-align:center;
      color:#475569;
      font-weight:900;
    }
    .drop small{
      display:block;
      font-size:12px;
      font-weight:800;
      color:var(--muted);
      margin-top:6px;
    }

    /* footer actions */
    .footer{
      position:absolute;
      left:0; right:0; bottom:84px;
      padding: 10px 14px 10px;
      z-index:4;
      pointer-events:none; /* allow scrolling behind, except buttons */
    }
    .footer-inner{
      pointer-events:auto;
      background: rgba(245,246,248,.86);
      border:1px solid rgba(226,232,240,.9);
      backdrop-filter: blur(10px);
      border-radius: 999px;
      padding: 10px;
      display:flex;
      gap:10px;
      box-shadow: 0 16px 34px rgba(15,23,42,.12);
      align-items:center;
      justify-content:space-between;
    }
    .footer-note{
      font-size:12px;
      color:#475569;
      font-weight:900;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:150px;
    }
    .footer-actions{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .footer-actions .btn{
      height:48px;
      padding: 10px 14px;
      min-width: 138px;
    }

    /* bottom nav */
    .nav{
      position:absolute;
      left:0; right:0; bottom:0;
      height:84px;
      background: var(--nav);
      border-top: 1px solid rgba(226,232,240,.9);
      display:flex;
      justify-content:space-around;
      align-items:center;
      padding: 10px 14px 18px;
      backdrop-filter: blur(10px);
      z-index:2;
    }
    .tab{
      width:62px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
      color:#64748b;
      font-size:11px;
      font-weight:900;
      position:relative;
    }
    .tab .ico{
      width:44px; height:44px;
      border-radius:999px;
      display:grid; place-items:center;
      background: #f8fafc;
      border:1px solid rgba(226,232,240,.9);
    }
    .tab.active{ color:#0f172a; }
    .tab.active .ico{ background:#0f172a10; border-color:#0f172a20; }

    /* utility */
    .hidden{ display:none !important; }
    svg{ display:block; }
  </style>
</head>

<body>
  <div class="phone" id="phone">
    <div class="statusbar">
      <div>9:41</div>
      <div class="right">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        <span style="opacity:.9">Wi-Fi</span>
        <span style="opacity:.9">üîã</span>
      </div>
    </div>

    <div class="header">
      <div class="header-top">
        <div class="left">
          <div class="back" aria-hidden="true" title="Voltar">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M15 18l-6-6 6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="title-wrap">
            <div class="title">Nova Sess√£o</div>
            <div class="subtitle">
              <span>Arthur Pereira ‚Ä¢ 07 anos</span>
              <span class="chip">Fono</span>
            </div>
          </div>
        </div>

        <div class="pill" id="connPill" title="Status de conex√£o">
          <span class="p-dot"></span>
          <span id="connText">Conectado</span>
        </div>
      </div>

      <div class="stepper">
        <div class="steps">
          <div class="step-dot active" id="dot1">1</div>
          <div class="step-dot" id="dot2">2</div>
          <div class="step-dot" id="dot3">3</div>
          <div class="step-label" id="stepLabel">Est√≠mulos (tempo real)</div>
        </div>
        <div class="step-actions">
          <button class="mini-btn" id="prevBtn" title="Etapa anterior" aria-label="Etapa anterior">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M15 18l-6-6 6-6" stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button class="mini-btn" id="nextBtn" title="Pr√≥xima etapa" aria-label="Pr√≥xima etapa">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M9 6l6 6-6 6" stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div class="content" id="content">
      <!-- STEP 1: Est√≠mulos -->
      <div id="step1">
        <div class="panel">
          <div class="panel-title">
            <span>Contexto do programa</span>
            <span class="badge ok">Ativo</span>
          </div>
          <div class="muted">
            Programa: <b>Aprimoramento da linguagem oral</b><br/>
            Data da sess√£o: <b>18/02/2026</b>
          </div>
          <div class="row">
            <div class="kv">Terapeuta: <b>G√∫bio Santos</b></div>
            <div class="kv">Prazo: <b>05/12/2025 ‚Äî 05/06/2026</b></div>
          </div>

          <div class="collapse">
            <div class="collapse-title">
              <span>Ver objetivo do programa</span>
              <span style="opacity:.7">‚ñæ</span>
            </div>
            <div class="collapse-body">
              Amplia√ß√£o da compreens√£o e express√£o oral em situa√ß√µes do cotidiano.
              <br/><br/>
              <span class="muted">
                (No app real, isso pode abrir um bottom sheet. Aqui √© s√≥ visual.)
              </span>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">
            <span>Est√≠mulos em treino</span>
            <span class="badge">4</span>
          </div>
          <div class="muted">Inicie um est√≠mulo e registre em tempo real. Um est√≠mulo ativo por vez.</div>

          <div class="stim-list" style="margin-top:12px;">
            <div class="stim-card">
              <div class="stim-top">
                <div style="min-width:0;">
                  <div class="stim-name">Compreens√£o de instru√ß√µes simples em uma etapa</div>
                  <div class="stim-sub">
                    <span class="badge">N√£o iniciado</span>
                    <span>Toque em ‚ÄúIniciar‚Äù</span>
                  </div>
                </div>
                <button class="btn primary" data-open-focus="1" type="button">
                  <span class="circle" aria-hidden="true">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <path d="M8 5v14l11-7-11-7Z" fill="white"/>
                    </svg>
                  </span>
                  Iniciar
                </button>
              </div>
            </div>

            <div class="stim-card">
              <div class="stim-top">
                <div style="min-width:0;">
                  <div class="stim-name">Respostas a perguntas concretas sobre figuras</div>
                  <div class="stim-sub">
                    <span class="badge ok">Conclu√≠do</span>
                    <span>ERRO 1 ‚Ä¢ AJUDA 2 ‚Ä¢ INDEP 6</span>
                  </div>
                </div>
                <button class="btn ghost" type="button">
                  Ver
                </button>
              </div>
            </div>

            <div class="stim-card">
              <div class="stim-top">
                <div style="min-width:0;">
                  <div class="stim-name">Constru√ß√£o de frases simples a partir de figuras</div>
                  <div class="stim-sub">
                    <span class="badge">N√£o iniciado</span>
                    <span>‚Äî</span>
                  </div>
                </div>
                <button class="btn primary" data-open-focus="3" type="button">
                  <span class="circle" aria-hidden="true">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <path d="M8 5v14l11-7-11-7Z" fill="white"/>
                    </svg>
                  </span>
                  Iniciar
                </button>
              </div>
            </div>

            <div class="stim-card">
              <div class="stim-top">
                <div style="min-width:0;">
                  <div class="stim-name">Relato breve de rotina di√°ria</div>
                  <div class="stim-sub">
                    <span class="badge warn">Pausado</span>
                    <span>Retomar para finalizar</span>
                  </div>
                </div>
                <button class="btn primary" data-open-focus="4" type="button">
                  <span class="circle" aria-hidden="true">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <path d="M8 5v14l11-7-11-7Z" fill="white"/>
                    </svg>
                  </span>
                  Retomar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- STEP 2: Observa√ß√µes -->
      <div id="step2" class="hidden">
        <div class="panel">
          <div class="panel-title">
            <span>Observa√ß√µes da sess√£o</span>
            <span class="badge">Opcional</span>
          </div>
          <div class="muted">Anota√ß√µes e intercorr√™ncias. Use frases curtas (tempo real ‚Üí seja objetivo).</div>
          <div style="margin-top:12px;">
            <textarea placeholder="Ex: Cliente demonstrou maior engajamento com refor√ßadores visuais. Dificuldade em manter foco ap√≥s 15 minutos..."></textarea>
            <div class="char">0/2000</div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">
            <span>Resumo r√°pido</span>
            <span class="badge ok">Auto-save</span>
          </div>
          <div class="muted">
            ‚Ä¢ Sess√£o est√° sendo salva localmente enquanto voc√™ preenche.<br/>
            ‚Ä¢ Ao finalizar, vira <b>pendente de envio</b> se estiver sem internet.
          </div>
        </div>
      </div>

      <!-- STEP 3: Arquivos -->
      <div id="step3" class="hidden">
        <div class="panel">
          <div class="panel-title">
            <span>Arquivos da sess√£o</span>
            <span class="badge warn">Cuidado offline</span>
          </div>
          <div class="muted">
            Anexos aumentam complexidade offline. Se voc√™s v√£o manter no MVP,
            o app precisa suportar fila de upload + retry.
          </div>

          <div class="drop">
            Adicionar arquivo
            <small>Imagens (JPG/PNG), V√≠deos (MP4), Documentos (PDF)</small>
          </div>

          <div class="row" style="margin-top:12px;">
            <span class="muted" style="font-weight:900;">Nenhum arquivo anexado</span>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">
            <span>Finaliza√ß√£o</span>
            <span class="badge ok">Pronto</span>
          </div>
          <div class="muted">
            Revise rapidamente e finalize a sess√£o.
            Se offline, ela ser√° salva e enviada quando houver conex√£o.
          </div>
        </div>
      </div>
    </div>

    <!-- FOOTER ACTIONS -->
    <div class="footer">
      <div class="footer-inner">
        <div class="footer-note" id="footerNote">Salvo automaticamente (rascunho)</div>
        <div class="footer-actions">
          <button class="btn ghost" id="toggleConn" type="button" title="Simular offline/online">
            Conex√£o
          </button>
          <button class="btn primary" id="finalizeBtn" type="button">
            Finalizar sess√£o
          </button>
        </div>
      </div>
    </div>

    <!-- bottom nav (mant√©m padr√£o visual) -->
    <div class="nav" role="navigation" aria-label="Navega√ß√£o inferior">
      <div class="tab">
        <div class="ico" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M3 10.5 12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-7H9v7H4a1 1 0 0 1-1-1V10.5Z" stroke="#64748b" stroke-width="2" stroke-linejoin="round"/>
          </svg>
        </div>
        <div>Home</div>
      </div>

      <div class="tab active">
        <div class="ico" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M16 21c0-3.314-2.686-6-6-6s-6 2.686-6 6" stroke="#0f172a" stroke-width="2" stroke-linecap="round"/>
            <path d="M10 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" stroke="#0f172a" stroke-width="2"/>
            <path d="M20 21c0-2.2-1.2-4.1-3-5.1" stroke="#0f172a" stroke-width="2" stroke-linecap="round" opacity=".7"/>
          </svg>
        </div>
        <div>Cliente</div>
      </div>

      <div class="tab">
        <div class="ico" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 3v12" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
            <path d="M7 10l5 5 5-5" stroke="#64748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M5 21h14" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div>Envios</div>
      </div>

      <div class="tab">
        <div class="ico" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M20 21a8 8 0 1 0-16 0" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
            <path d="M12 13a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" stroke="#64748b" stroke-width="2"/>
          </svg>
        </div>
        <div>Perfil</div>
      </div>
    </div>

    <!-- ACTIVE STIMULUS OVERLAY (Focus Mode) -->
    <div class="overlay" id="overlay">
      <div class="focus">
        <div class="focus-top">
          <div style="min-width:0;">
            <div class="focus-title" id="focusTitle">Compreens√£o de instru√ß√µes simples em uma etapa</div>
            <div class="focus-sub" id="focusSub">Toque nos bot√µes para registrar em tempo real</div>
          </div>
          <div class="timer" id="timer">00:02:18</div>
        </div>

        <div class="counters">
          <div class="counter err">
            <div class="top">
              <div class="label">ERRO</div>
              <div style="opacity:.6; font-weight:900;">‚úï</div>
            </div>
            <div class="value" id="cErr">0</div>
            <div class="hint">Resposta incorreta/sem resposta</div>
          </div>

          <div class="counter help">
            <div class="top">
              <div class="label">AJUDA</div>
              <div style="opacity:.6; font-weight:900;">‚úã</div>
            </div>
            <div class="value" id="cHelp">0</div>
            <div class="hint">Com pista ou dica</div>
          </div>

          <div class="counter ok">
            <div class="top">
              <div class="label">INDEP</div>
              <div style="opacity:.6; font-weight:900;">‚úì</div>
            </div>
            <div class="value" id="cOk">0</div>
            <div class="hint">Independente/correta</div>
          </div>
        </div>

        <div class="panel" style="margin:0;">
          <div class="panel-title">
            <span>A√ß√µes r√°pidas</span>
            <span class="badge ok">Auto-save</span>
          </div>
          <div class="muted">
            No app real: toque r√°pido incrementa. Pressionar/arrastar para desfazer pode existir depois.
            Aqui √© s√≥ visual.
          </div>
          <div class="row" style="margin-top:12px;">
            <button class="btn ghost" id="incErr" type="button">+ ERRO</button>
            <button class="btn ghost" id="incHelp" type="button">+ AJUDA</button>
            <button class="btn ghost" id="incOk" type="button">+ INDEP</button>
          </div>
        </div>

        <div class="focus-actions">
          <button class="btn pause" id="pauseBtn" type="button">Pausar</button>
          <button class="btn finish" id="finishBtn" type="button">Finalizar bloco</button>
        </div>

        <button class="btn ghost" id="closeOverlay" type="button" style="width:100%; height:48px;">
          Voltar para lista
        </button>
      </div>
    </div>

  </div>

  <script>
    // Minimal JS s√≥ pra navegar entre etapas e abrir o modo foco.
    // (Voc√™ pediu HTML/CSS, mas sem isso voc√™ n√£o consegue "avan√ßar entre etapas".)

    const stepLabel = document.getElementById('stepLabel');
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const step3 = document.getElementById('step3');

    const dot1 = document.getElementById('dot1');
    const dot2 = document.getElementById('dot2');
    const dot3 = document.getElementById('dot3');

    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    let step = 1;

    function setStep(n){
      step = Math.max(1, Math.min(3, n));
      step1.classList.toggle('hidden', step !== 1);
      step2.classList.toggle('hidden', step !== 2);
      step3.classList.toggle('hidden', step !== 3);

      dot1.classList.toggle('active', step === 1);
      dot2.classList.toggle('active', step === 2);
      dot3.classList.toggle('active', step === 3);

      if(step === 1) stepLabel.textContent = 'Est√≠mulos (tempo real)';
      if(step === 2) stepLabel.textContent = 'Observa√ß√µes';
      if(step === 3) stepLabel.textContent = 'Arquivos & Finalizar';
    }

    prevBtn.addEventListener('click', () => setStep(step - 1));
    nextBtn.addEventListener('click', () => setStep(step + 1));
    setStep(1);

    // Focus overlay
    const overlay = document.getElementById('overlay');
    const closeOverlay = document.getElementById('closeOverlay');
    const finishBtn = document.getElementById('finishBtn');

    const focusTitle = document.getElementById('focusTitle');

    document.querySelectorAll('[data-open-focus]').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('data-open-focus');
        // s√≥ pra demonstrar
        const titles = {
          '1': 'Compreens√£o de instru√ß√µes simples em uma etapa',
          '3': 'Constru√ß√£o de frases simples a partir de figuras',
          '4': 'Relato breve de rotina di√°ria'
        };
        focusTitle.textContent = titles[id] || 'Est√≠mulo';
        overlay.classList.add('on');
      });
    });

    closeOverlay.addEventListener('click', () => overlay.classList.remove('on'));
    finishBtn.addEventListener('click', () => overlay.classList.remove('on'));

    // counters demo
    let e=0,h=0,o=0;
    const cErr = document.getElementById('cErr');
    const cHelp = document.getElementById('cHelp');
    const cOk = document.getElementById('cOk');

    document.getElementById('incErr').addEventListener('click', () => { e++; cErr.textContent = e; });
    document.getElementById('incHelp').addEventListener('click', () => { h++; cHelp.textContent = h; });
    document.getElementById('incOk').addEventListener('click', () => { o++; cOk.textContent = o; });

    // offline/online toggle demo
    const toggleConn = document.getElementById('toggleConn');
    const connPill = document.getElementById('connPill');
    const connText = document.getElementById('connText');
    const footerNote = document.getElementById('footerNote');
    const finalizeBtn = document.getElementById('finalizeBtn');

    let online = true;
    function setConn(isOnline){
      online = isOnline;
      connPill.classList.toggle('offline', !online);
      connPill.classList.remove('error');
      connText.textContent = online ? 'Conectado' : 'Sem internet';
      footerNote.textContent = online ? 'Salvo automaticamente (rascunho)' : 'Offline: ser√° enviado quando conectar';
      finalizeBtn.textContent = online ? 'Finalizar sess√£o' : 'Salvar rascunho';
    }
    toggleConn.addEventListener('click', () => setConn(!online));
    setConn(true);

    // pause demo
    document.getElementById('pauseBtn').addEventListener('click', () => {
      alert('Pausado (demo). No app real: marca bloco como PAUSADO e salva localmente.');
    });
  </script>
</body>
</html>
